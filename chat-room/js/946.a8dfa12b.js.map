{"version":3,"file":"js/946.a8dfa12b.js","mappings":"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","sources":["webpack://chatroom/./src/views/chat.vue?b2af","webpack://chatroom/./src/components/Login.vue?e787","webpack://chatroom/src/components/Login.vue","webpack://chatroom/./src/components/Login.vue?47fe","webpack://chatroom/./src/components/Login.vue","webpack://chatroom/src/views/chat.vue","webpack://chatroom/./src/views/chat.vue?de3c","webpack://chatroom/./src/views/chat.vue"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"mian\"}},[_c('div',{staticClass:\"chat-container\"},[_c('div',{staticClass:\"messages\"},_vm._l((_vm.messages),function(message){return _c('div',{key:message.id + '-' + message.timestamp,staticClass:\"message\",class:{ 'message-me': message.user === _vm.username }},[_c('div',{staticClass:\"message-header\",style:({ 'text-align': message.user === _vm.username ? 'right' : 'left', 'margin-bottom': '4px' })},[_c('strong',[_vm._v(_vm._s(message.user))])]),_c('div',{staticClass:\"message-content\"},[_vm._v(_vm._s(message.text))]),_c('div',{staticClass:\"message-time\"},[_vm._v(_vm._s(_vm.formatTime(message.timestamp)))]),_c('el-avatar',{style:({\n        position: 'absolute',\n        right: message.user === _vm.username ? '-50px' : 'auto',\n        left: message.user === _vm.username ? 'auto' : '-50px',\n        top: '50%',\n        transform: 'translateY(-50%)'\n      }),attrs:{\"src\":message.avatar || 'https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png'}})],1)}),0),_c('div',{staticClass:\"input-area\"},[_c('el-popover',{attrs:{\"placement\":\"bottom-start\",\"trigger\":\"click\",\"popper-class\":\"emoji-popover\"}},[_c('div',{staticClass:\"emoji-picker\",staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"width\":\"300px\",\"max-height\":\"60vh\",\"background\":\"#fff\",\"border-radius\":\"8px\",\"box-shadow\":\"0 2px 12px 0 rgba(0,0,0,.1)\"}},[_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[_c('div',{staticClass:\"emoji-tabs\",staticStyle:{\"display\":\"flex\",\"padding\":\"8px\",\"border-bottom\":\"1px solid #eee\",\"transition\":\"all 0.3s ease\"}},_vm._l((_vm.emojiCategories),function(category,index){return _c('div',{key:index,style:({ color: _vm.activeCategory === index ? '#07c160' : '#666', padding: '4px 8px', cursor: 'pointer', fontSize: '14px' }),on:{\"click\":function($event){return _vm.setActiveCategory(index)}}},[_vm._v(\" \"+_vm._s(category))])}),0)]),_c('div',{staticClass:\"emoji-grid\",staticStyle:{\"flex\":\"1\",\"overflow-y\":\"auto\",\"padding\":\"8px\"}},[_c('div',{staticStyle:{\"display\":\"grid\",\"grid-template-columns\":\"repeat(6, 1fr)\",\"gap\":\"4px\"}},_vm._l((_vm.list),function(emoji){return _c('div',{key:emoji,staticStyle:{\"padding\":\"6px\",\"font-size\":\"24px\",\"text-align\":\"center\",\"cursor\":\"pointer\",\"border-radius\":\"4px\",\"transition\":\"all 0.2s\"},on:{\"click\":function($event){return _vm.addEmoji(emoji)},\"mouseenter\":function($event){$event.target.style.transform = 'scale(1.2)'; $event.target.style.background = '#f0f7ff'},\"mouseleave\":function($event){$event.target.style.transform = 'scale(1)'; $event.target.style.background = 'transparent'}}},[_vm._v(\" \"+_vm._s(emoji)+\" \")])}),0)])],1),_c('el-button',{staticClass:\"emoji-btn\",staticStyle:{\"padding\":\"8px\",\"background\":\"transparent\",\"border\":\"none\",\"border-radius\":\"4px\"},attrs:{\"slot\":\"reference\"},on:{\"mouseenter\":function($event){$event.target.style.background = '#f0f7ff'},\"mouseleave\":function($event){$event.target.style.background = 'transparent'}},slot:\"reference\"},[_c('i',{staticClass:\"el-icon-star-off\",staticStyle:{\"font-size\":\"20px\",\"color\":\"#409EFF\"}})])],1),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newMessage),expression:\"newMessage\"}],attrs:{\"placeholder\":\"输入消息...\"},domProps:{\"value\":(_vm.newMessage)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.sendMessage.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.newMessage=$event.target.value}}}),_c('button',{on:{\"click\":_vm.sendMessage}},[_c('i',{staticClass:\"el-icon-position\"})])],1)]),_c('div',{staticClass:\"drawer\",class:{ 'drawer-open': _vm.showDrawer }},[_c('div',{staticClass:\"users-list\"},[_c('h3',[_vm._v(\"在线用户\")]),_c('div',{staticClass:\"action-buttons\"},[_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.clearUsers}},[_vm._v(\"清空用户列表\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.refreshPage}},[_vm._v(\"刷新页面\")])],1),_c('ul',{staticClass:\"user-list-container\"},_vm._l((_vm.users),function(user,index){return _c('li',{key:index,staticClass:\"user-item\"},[_c('div',{staticClass:\"user-info\"},[_c('el-avatar',{staticClass:\"user-avatar\",attrs:{\"src\":user.avatar,\"size\":\"small\"}}),_c('div',{staticClass:\"user-details\"},[_c('span',{staticClass:\"username\"},[_vm._v(_vm._s(user.name))]),_c('div',{staticClass:\"user-status\"},[_c('el-tag',{attrs:{\"type\":user.status === 'online' ? 'success' : 'info',\"size\":\"small\"}},[_vm._v(_vm._s(user.status === 'online' ? '在线' : '离线'))]),_c('span',{staticClass:\"last-active\"},[_vm._v(_vm._s(_vm.formatTime(user.lastActive)))])],1)])],1)])}),0)])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login-container\"},[_vm._m(0),_c('el-form',{ref:\"loginForm\",staticClass:\"login-form\",attrs:{\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{staticClass:\"animated-input\",attrs:{\"placeholder\":\"请输入用户名\"},on:{\"focus\":_vm.handleInputFocus,\"blur\":_vm.handleInputBlur,\"input\":_vm.handleInputChange},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}},[_c('i',{staticClass:\"el-icon-user-solid\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"}),_c('i',{staticClass:\"el-icon-view\",attrs:{\"slot\":\"suffix\"},on:{\"click\":_vm.togglePasswordVisibility},slot:\"suffix\"})])],1),_c('el-form-item',[_c('el-button',{staticClass:\"login-btn\",class:{ 'btn-animate': _vm.isAnimating },attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_c('i',{staticClass:\"el-icon-s-promotion\"}),_vm._v(\" 登录 \")])],1)],1)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login-header\"},[_c('h2',[_vm._v(\"欢迎登录\")]),_c('p',[_vm._v(\"请输入您的用户名开始聊天\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login-container\">\r\n    <div class=\"login-header\">\r\n      <h2>欢迎登录</h2>\r\n      <p>请输入您的用户名开始聊天</p>\r\n    </div>\r\n    <el-form :model=\"form\" label-width=\"80px\" class=\"login-form\" ref=\"loginForm\">\r\n      <el-form-item label=\"用户名\" prop=\"username\">\r\n        <el-input v-model=\"form.username\" placeholder=\"请输入用户名\" @focus=\"handleInputFocus\" @blur=\"handleInputBlur\"\r\n          @input=\"handleInputChange\" class=\"animated-input\">\r\n          <i slot=\"prefix\" class=\"el-icon-user-solid\"></i>\r\n          <i slot=\"suffix\" class=\"el-icon-view\" @click=\"togglePasswordVisibility\"></i>\r\n        </el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"onSubmit\" class=\"login-btn\" :class=\"{ 'btn-animate': isAnimating }\">\r\n          <i class=\"el-icon-s-promotion\"></i>\r\n          登录\r\n        </el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      form: {\r\n        username: ''\r\n      },\r\n      isAnimating: false\r\n    }\r\n  },\r\n  methods: {\r\n    handleInputChange () {\r\n      const input = this.$refs.loginForm.$el.querySelector('.el-input__inner');\r\n      if (this.form.username.trim()) {\r\n        input.style.borderColor = '#1e3c72';\r\n        input.style.boxShadow = '0 0 0 2px rgba(30, 60, 114, 0.2)';\r\n      } else {\r\n        input.style.borderColor = '#dcdfe6';\r\n        input.style.boxShadow = 'none';\r\n      }\r\n    },\r\n    onSubmit () {\r\n      if (this.form.username.trim()) {\r\n        this.isAnimating = true;\r\n        setTimeout(() => {\r\n          this.$emit('login', this.form.username);\r\n          this.isAnimating = false;\r\n        }, 500);\r\n      } else {\r\n        this.$message.error('请输入用户名');\r\n      }\r\n    },\r\n    handleInputFocus () {\r\n      this.$refs.loginForm.$el.querySelector('.el-input__inner').style.borderColor = '#1e3c72';\r\n    },\r\n    handleInputBlur () {\r\n      this.$refs.loginForm.$el.querySelector('.el-input__inner').style.borderColor = '#dcdfe6';\r\n    },\r\n    togglePasswordVisibility () {\r\n      const input = this.$refs.loginForm.$el.querySelector('.el-input__inner');\r\n      input.type = input.type === 'password' ? 'text' : 'password';\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.login-container {\r\n  width: 100%;\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);\r\n}\r\n\r\n.login-header {\r\n  text-align: center;\r\n  margin-bottom: 40px;\r\n  color: white;\r\n  animation: fade-in 0.5s ease;\r\n  position: relative;\r\n}\r\n\r\n.login-decoration {\r\n  position: absolute;\r\n  bottom: -20px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  width: 60px;\r\n  height: 4px;\r\n  background: linear-gradient(90deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.8) 50%, rgba(255, 255, 255, 0) 100%);\r\n  animation: decoration-flow 2s infinite;\r\n}\r\n\r\n@keyframes decoration-flow {\r\n  0% {\r\n    transform: translateX(-50%) scaleX(0);\r\n  }\r\n\r\n  50% {\r\n    transform: translateX(-50%) scaleX(1);\r\n  }\r\n\r\n  100% {\r\n    transform: translateX(-50%) scaleX(0);\r\n  }\r\n}\r\n\r\n.login-header h2 {\r\n  font-size: 28px;\r\n  font-weight: bold;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.login-header p {\r\n  font-size: 14px;\r\n  opacity: 0.8;\r\n}\r\n\r\n@keyframes fade-in {\r\n  0% {\r\n    opacity: 0;\r\n    transform: translateY(-20px);\r\n  }\r\n\r\n  100% {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n.login-form {\r\n  padding: 40px;\r\n  background: rgba(255, 255, 255, 0.9);\r\n  border-radius: 16px;\r\n  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2);\r\n  animation: slide-up 0.5s ease;\r\n}\r\n\r\n@keyframes slide-up {\r\n  0% {\r\n    transform: translateY(20px);\r\n    opacity: 0;\r\n  }\r\n\r\n  100% {\r\n    transform: translateY(0);\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n.el-form-item {\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.login-btn {\r\n  width: 100%;\r\n  margin-top: 16px;\r\n  transition: all 0.3s ease;\r\n  background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);\r\n  border: none;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.login-btn::after {\r\n  content: '';\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  width: 300%;\r\n  height: 300%;\r\n  background: radial-gradient(circle, rgba(255, 255, 255, 0.4) 10%, transparent 10.01%);\r\n  transform: translate(-50%, -50%) scale(0);\r\n  transition: transform 0.5s ease, opacity 0.5s ease;\r\n  pointer-events: none;\r\n}\r\n\r\n.login-btn:active::after {\r\n  transform: translate(-50%, -50%) scale(1);\r\n  opacity: 0;\r\n}\r\n\r\n.login-btn:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(30, 60, 114, 0.3);\r\n}\r\n\r\n.btn-animate {\r\n  animation: pulse 0.5s;\r\n}\r\n\r\n@keyframes pulse {\r\n  0% {\r\n    transform: scale(1);\r\n  }\r\n\r\n  50% {\r\n    transform: scale(1.05);\r\n  }\r\n\r\n  100% {\r\n    transform: scale(1);\r\n  }\r\n}\r\n\r\n.el-input__inner {\r\n  border-radius: 8px;\r\n  padding: 12px 16px 12px 40px;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.el-input__inner:focus {\r\n  border-color: #1e3c72;\r\n  box-shadow: 0 0 0 2px rgba(30, 60, 114, 0.2);\r\n}\r\n\r\n.el-input__inner:hover {\r\n  border-color: #1e3c72;\r\n}\r\n</style>","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=4b75e0f4&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=4b75e0f4&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b75e0f4\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"mian\">\r\n    <!-- <Login v-if=\"!isLoggedIn\" @login=\"handleLogin\" /> -->\r\n    <div class=\"chat-container\">\r\n      <!-- <div class=\"header\">\r\n        <button class=\"menu-btn\" @click=\"showDrawer = !showDrawer\">\r\n          <i class=\"el-icon-menu\"></i>\r\n        </button>\r\n        <Weather />\r\n\r\n\r\n      </div> -->\r\n      <div class=\"messages\">\r\n        <div v-for=\"message in messages\" :key=\"message.id + '-' + message.timestamp\" class=\"message\"\r\n          :class=\"{ 'message-me': message.user === username }\">\r\n          <div class=\"message-header\"\r\n            :style=\"{ 'text-align': message.user === username ? 'right' : 'left', 'margin-bottom': '4px' }\">\r\n            <strong>{{ message.user }}</strong>\r\n          </div>\r\n          <div class=\"message-content\">{{ message.text }}</div>\r\n          <div class=\"message-time\">{{ formatTime(message.timestamp) }}</div>\r\n          <!-- 添加头像 -->\r\n          <el-avatar :src=\"message.avatar || 'https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png'\"\r\n            :style=\"{\r\n          position: 'absolute',\r\n          right: message.user === username ? '-50px' : 'auto',\r\n          left: message.user === username ? 'auto' : '-50px',\r\n          top: '50%',\r\n          transform: 'translateY(-50%)'\r\n        }\"></el-avatar>\r\n        </div>\r\n      </div>\r\n      <div class=\"input-area\">\r\n        <el-popover placement=\"bottom-start\" trigger=\"click\" popper-class=\"emoji-popover\">\r\n          <div class=\"emoji-picker\"\r\n            style=\"display: flex; flex-direction: column; width: 300px; max-height: 60vh; background: #fff; border-radius: 8px; box-shadow: 0 2px 12px 0 rgba(0,0,0,.1);\">\r\n            <transition name=\"fade\" mode=\"out-in\">\r\n              <div class=\"emoji-tabs\"\r\n                style=\"display: flex; padding: 8px; border-bottom: 1px solid #eee; transition: all 0.3s ease;\">\r\n                <div v-for=\"(category, index) in emojiCategories\" :key=\"index\" @click=\"setActiveCategory(index)\"\r\n                  :style=\"{ color: activeCategory === index ? '#07c160' : '#666', padding: '4px 8px', cursor: 'pointer', fontSize: '14px' }\">\r\n                  {{ category }}</div>\r\n              </div>\r\n            </transition>\r\n            <div class=\"emoji-grid\" style=\"flex: 1; overflow-y: auto; padding: 8px;\">\r\n              <div style=\"display: grid; grid-template-columns: repeat(6, 1fr); gap: 4px;\">\r\n                <div v-for=\"emoji in list\" :key=\"emoji\" @click=\"addEmoji(emoji)\"\r\n                  style=\"padding: 6px; font-size: 24px; text-align: center; cursor: pointer; border-radius: 4px; transition: all 0.2s;\"\r\n                  @mouseenter=\"$event.target.style.transform = 'scale(1.2)'; $event.target.style.background = '#f0f7ff'\"\r\n                  @mouseleave=\"$event.target.style.transform = 'scale(1)'; $event.target.style.background = 'transparent'\">\r\n                  {{ emoji }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <el-button slot=\"reference\" class=\"emoji-btn\"\r\n            style=\"padding: 8px; background: transparent; border: none; border-radius: 4px;\"\r\n            @mouseenter=\"$event.target.style.background = '#f0f7ff'\"\r\n            @mouseleave=\"$event.target.style.background = 'transparent'\">\r\n            <i class=\"el-icon-star-off\" style=\"font-size: 20px; color: #409EFF;\"></i>\r\n          </el-button>\r\n        </el-popover>\r\n        <input v-model=\"newMessage\" @keyup.enter=\"sendMessage\" placeholder=\"输入消息...\" />\r\n        <button @click=\"sendMessage\">\r\n          <i class=\"el-icon-position\"></i>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class=\"drawer\" :class=\"{ 'drawer-open': showDrawer }\">\r\n      <div class=\"users-list\">\r\n        <h3>在线用户</h3>\r\n        <div class=\"action-buttons\">\r\n          <el-button type=\"danger\" @click=\"clearUsers\">清空用户列表</el-button>\r\n          <el-button type=\"primary\" @click=\"refreshPage\">刷新页面</el-button>\r\n        </div>\r\n        <ul class=\"user-list-container\">\r\n          <li v-for=\"(user, index) in users\" :key=\"index\" class=\"user-item\">\r\n            <div class=\"user-info\">\r\n              <el-avatar :src=\"user.avatar\" size=\"small\" class=\"user-avatar\"></el-avatar>\r\n              <div class=\"user-details\">\r\n                <span class=\"username\">{{ user.name }}</span>\r\n                <div class=\"user-status\">\r\n                  <el-tag :type=\"user.status === 'online' ? 'success' : 'info'\" size=\"small\">{{ user.status === 'online'\r\n          ? '在线' : '离线' }}</el-tag>\r\n                  <span class=\"last-active\">{{ formatTime(user.lastActive) }}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Login from '../components/Login.vue'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      showDrawer: false,\r\n      isLoggedIn: false,\r\n      username: '',\r\n      users: [],\r\n      messages: [],\r\n      newMessage: '',\r\n      socket: null,\r\n      emojiCategories: ['表情', '人物', '动物', '食物', '符号'],\r\n      emojis: [\r\n        ['😀', '😁', '😂', '🤣', '😃', '😄', '😅', '😆', '😉', '😊', '😋', '😎', '😍', '😘', '😗', '😙', '😚', '🙂', '🤗', '🤩'],\r\n        ['👋', '🤚', '🖐', '✋', '🖖', '👌', '🤏', '✌', '🤞', '🤟', '🤘', '🤙', '👈', '👉', '👆', '👇', '🖕', '👍', '👎', '✊'],\r\n        ['🐶', '🐱', '🐭', '🐹', '🐰', '🦊', '🐻', '🐼', '🐨', '🐯', '🦁', '🐮', '🐷', '🐸', '🐵', '🐔', '🐧', '🐦', '🐤', '🐣'],\r\n        ['🍏', '🍎', '🍐', '🍊', '🍋', '🍌', '🍉', '🍇', '🍓', '🍈', '🍒', '🍑', '🥭', '🍍', '🥥', '🥝', '🍅', '🍆', '🥑', '🥦'],\r\n        ['❤', '🧡', '💛', '💚', '💙', '💜', '🤎', '🖤', '🤍', '💔', '❣', '💕', '💞', '💓', '💗', '💖', '💘', '💝', '💟', '☮']\r\n      ],\r\n      list: ['😀', '😁', '😂', '🤣', '😃', '😄', '😅', '😆', '😉', '😊', '😋', '😎', '😍', '😘', '😗', '😙', '😚', '🙂', '🤗', '🤩'],\r\n      activeCategory: 0,\r\n      sendSound: new Audio(require('../assets/MP3/send.mp3')),\r\n      receiveSound: new Audio(require('../assets/MP3/send.mp3'))\r\n    }\r\n  },\r\n  components: {\r\n    Login,\r\n  },\r\n  mounted () {\r\n    if (!this.isLoggedIn) {\r\n      // this.username = this.generateRandomName();\r\n      this.connect();\r\n    }\r\n  },\r\n  methods: {\r\n\r\n    setActiveCategory (index) {\r\n      this.activeCategory = index;\r\n      this.list = this.emojis[index]\r\n    },\r\n    addEmoji (emoji) {\r\n      this.newMessage += emoji;\r\n    },\r\n    reconnect () {\r\n      const maxRetries = 5;\r\n      let retryCount = 0;\r\n      const reconnectWithBackoff = () => {\r\n        if (retryCount >= maxRetries) {\r\n          this.$message.error('重连失败，请检查网络连接');\r\n          return;\r\n        }\r\n        const delay = Math.min(5000 * Math.pow(2, retryCount), 30000);\r\n        retryCount++;\r\n        console.log(`尝试第${retryCount}次重连，等待${delay}ms...`);\r\n        setTimeout(() => {\r\n          this.connect();\r\n        }, delay);\r\n      };\r\n      reconnectWithBackoff();\r\n    },\r\n    handleLogin (username) {\r\n      this.isLoggedIn = true;\r\n      this.username = username;\r\n      this.connect();\r\n    },\r\n    generateRandomName () {\r\n      const adjectives = ['快乐的', '聪明的', '勇敢的', '可爱的', '神秘的'];\r\n      const nouns = ['熊猫', '兔子', '猫咪', '狗狗', '小鸟'];\r\n      return adjectives[Math.floor(Math.random() * adjectives.length)] + nouns[Math.floor(Math.random() * nouns.length)];\r\n    },\r\n    connect () {\r\n      const storedUserId = localStorage.getItem('userId');\r\n      const userId = storedUserId || Date.now();\r\n      if (!storedUserId) {\r\n        localStorage.setItem('userId', userId);\r\n      }\r\n      this.socket = new WebSocket('ws://10.0.0.176:8080');\r\n      this.socket.onerror = (error) => {\r\n        console.error('WebSocket error:', error);\r\n        this.$message.error('WebSocket连接失败，正在尝试重新连接...');\r\n        this.reconnect();\r\n      };\r\n      this.socket.onclose = () => {\r\n        console.log('WebSocket connection closed');\r\n        this.reconnect();\r\n      };\r\n      this.socket.onmessage = (event) => {\r\n        const data = JSON.parse(event.data);\r\n        if (data.type === 'message') {\r\n          if (!this.messages.some(msg => msg.id === data.payload.id)) {\r\n            this.messages.push(data.payload);\r\n          }\r\n\r\n          if (data.payload.user !== this.username) {\r\n            this.receiveSound.play();\r\n          }\r\n        } else if (data.type === 'users') {\r\n          this.users = data.payload.map(user => ({\r\n            ...user,\r\n            lastActive: user.lastActive || Date.now(),\r\n            status: user.status || 'online'\r\n          }));\r\n        }\r\n      };\r\n      this.socket.onopen = () => {\r\n        this.socket.send(JSON.stringify({\r\n          type: 'join',\r\n          payload: {\r\n            name: this.username,\r\n            id: userId\r\n          }\r\n        }));\r\n      };\r\n    },\r\n    sendMessage () {\r\n      if (!this.socket) {\r\n        this.$message.error('WebSocket连接未建立');\r\n        return;\r\n      }\r\n      if (this.newMessage.trim()) {\r\n        const message = {\r\n          id: Date.now(),\r\n          user: this.username,\r\n          text: this.newMessage,\r\n          timestamp: Date.now()\r\n        };\r\n        console.log(message);\r\n\r\n        this.socket.send(JSON.stringify({ type: 'message', payload: message }));\r\n        this.newMessage = '';\r\n        this.sendSound.play();\r\n      }\r\n    },\r\n    formatTime (timestamp) {\r\n      if (!timestamp) return '未知';\r\n      const date = new Date(timestamp);\r\n      const hours = date.getHours().toString().padStart(2, '0');\r\n      const minutes = date.getMinutes().toString().padStart(2, '0');\r\n      const seconds = date.getSeconds().toString().padStart(2, '0');\r\n      return `${hours}:${minutes}:${seconds}`;\r\n    },\r\n    checkUserStatus (timestamp) {\r\n      if (!timestamp) return false;\r\n      const now = Date.now();\r\n      return now - timestamp < 300000;\r\n    },\r\n    clearUsers () {\r\n      this.$confirm('确定要清空所有用户吗？', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.socket.send(JSON.stringify({ type: 'clear_users' }));\r\n        this.$message({\r\n          type: 'success',\r\n          message: '已清空用户列表'\r\n        });\r\n        this.users = [];\r\n      }).catch(() => { });\r\n    },\r\n    refreshPage () {\r\n      window.location.reload();\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@import url(\"//at.alicdn.com/t/c/font_1234567_abcdefghijk.css\");\r\n\r\n.mian {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.chat-container {\r\n  position: relative;\r\n  max-width: 100%;\r\n  margin: 0;\r\n  padding: 0;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n}\r\n\r\n.header {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 100;\r\n  border-radius: 0;\r\n  padding: 10px 15px;\r\n  background: #2196f3;\r\n  color: white;\r\n  height: 50px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  ;\r\n}\r\n\r\n.menu-btn {\r\n  background: none;\r\n  border: none;\r\n  color: white;\r\n  font-size: 24px;\r\n  cursor: pointer;\r\n  padding: 0;\r\n  min-width: 44px;\r\n  min-height: 44px;\r\n}\r\n\r\n.online-count {\r\n  font-size: 14px;\r\n}\r\n\r\n.messages {\r\n  /* padding-top: 50px;\r\n  padding-bottom: 60px; */\r\n  padding: 60px 50px;\r\n  height: calc(100vh);\r\n  background: #f0f0f0;\r\n  overflow-y: auto;\r\n  -webkit-overflow-scrolling: touch;\r\n}\r\n\r\n.message {\r\n  max-width: 50vw;\r\n  margin: 8px;\r\n  margin-bottom: 16px;\r\n  padding: 16px 20px;\r\n  border-radius: 12px;\r\n  background: #fafafa;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n  word-break: break-word;\r\n  position: relative;\r\n  animation: fadeIn 0.2s ease-out;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.message-me {\r\n  margin-left: auto;\r\n  margin-right: 12px;\r\n  background: #e8f5e9;\r\n}\r\n\r\n.message-time {\r\n  font-size: 12px;\r\n  color: #666;\r\n  margin-top: 4px;\r\n}\r\n\r\n.input-area {\r\n  background: #fff;\r\n  position: fixed;\r\n  bottom: 50px;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 100;\r\n  border-radius: 0;\r\n  padding: 10px 15px;\r\n}\r\n\r\n.input-area input {\r\n  flex: 1;\r\n  padding: 16px 20px;\r\n  border: 1px solid #e5e5e5;\r\n  border-radius: 25px;\r\n  outline: none;\r\n  font-size: 16px;\r\n  -webkit-tap-highlight-color: transparent;\r\n  margin-right: 12px;\r\n}\r\n\r\n.input-area button {\r\n  background: #2196f3;\r\n  border: none;\r\n  color: white;\r\n  padding: 12px 20px;\r\n  border-radius: 25px;\r\n  cursor: pointer;\r\n  min-width: 50px;\r\n  min-height: 50px;\r\n  -webkit-tap-highlight-color: transparent;\r\n}\r\n\r\n.message-me {\r\n  margin-left: auto;\r\n  background: #2196f3;\r\n  color: white;\r\n}\r\n\r\n.message-me .message-time {\r\n  text-align: right;\r\n}\r\n\r\n.message-me .message-header {\r\n  text-align: right;\r\n}\r\n\r\n.drawer {\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: -100%;\r\n  width: 80%;\r\n  max-width: 300px;\r\n  background: #fafafa;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n  transition: all 0.3s ease;\r\n  z-index: 1000;\r\n  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.drawer-open {\r\n  right: 0;\r\n}\r\n\r\n.users-list {\r\n  padding: 20px;\r\n}\r\n\r\n.message {\r\n  position: relative;\r\n  /* 为头像留出空间 */\r\n}\r\n\r\n.message-me {\r\n  padding-right: 12px;\r\n  padding-left: 50px;\r\n  /* 为头像留出空间 */\r\n}\r\n\r\n.users-list h3 {\r\n  font-size: 18px;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.user-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.username {\r\n  font-size: 14px;\r\n}\r\n\r\n.last-active {\r\n  font-size: 12px;\r\n  color: #666;\r\n}\r\n\r\n.action-buttons {\r\n  display: flex;\r\n  gap: 8px;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.el-button {\r\n  min-width: 80px;\r\n  min-height: 36px;\r\n  font-size: 14px;\r\n}\r\n\r\n.emoji-btn {\r\n  min-width: 44px;\r\n  min-height: 44px;\r\n}\r\n\r\n.users-list ul {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n  min-height: min-content;\r\n}\r\n\r\n.users-list li {\r\n  padding: 8px 0;\r\n  border-bottom: 1px solid #e5e5e5;\r\n  min-height: 50px;\r\n}\r\n\r\n.user-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  padding: 10px 0;\r\n  border-bottom: 1px solid #eee;\r\n  min-width: min-content;\r\n}\r\n\r\n.username {\r\n  font-weight: 500;\r\n  flex: 1;\r\n}\r\n\r\n.last-active {\r\n  font-size: 12px;\r\n  color: #666;\r\n}\r\n\r\n.iconfont {\r\n  font-size: 24px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./chat.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./chat.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./chat.vue?vue&type=template&id=cc3b4bd4&scoped=true\"\nimport script from \"./chat.vue?vue&type=script&lang=js\"\nexport * from \"./chat.vue?vue&type=script&lang=js\"\nimport style0 from \"./chat.vue?vue&type=style&index=0&id=cc3b4bd4&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cc3b4bd4\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","staticClass","_l","message","key","id","timestamp","class","user","username","style","_v","_s","text","formatTime","position","right","left","top","transform","avatar","staticStyle","category","index","color","activeCategory","padding","cursor","fontSize","on","$event","setActiveCategory","emoji","addEmoji","target","background","slot","directives","name","rawName","value","expression","domProps","type","indexOf","_k","keyCode","sendMessage","apply","arguments","composing","newMessage","showDrawer","clearUsers","refreshPage","status","lastActive","staticRenderFns","_m","ref","form","handleInputFocus","handleInputBlur","handleInputChange","model","callback","$$v","$set","togglePasswordVisibility","isAnimating","onSubmit","data","methods","input","$refs","loginForm","$el","querySelector","trim","borderColor","boxShadow","setTimeout","$emit","$message","error","component","isLoggedIn","users","messages","socket","emojiCategories","emojis","list","sendSound","Audio","receiveSound","components","Login","mounted","connect","reconnect","maxRetries","retryCount","reconnectWithBackoff","delay","Math","min","pow","handleLogin","generateRandomName","adjectives","nouns","floor","random","length","storedUserId","localStorage","getItem","userId","Date","now","setItem","WebSocket","onerror","onclose","onmessage","event","JSON","parse","some","msg","payload","push","play","map","onopen","send","stringify","date","hours","getHours","toString","padStart","minutes","getMinutes","seconds","getSeconds","checkUserStatus","$confirm","confirmButtonText","cancelButtonText","then","catch","window","location","reload"],"sourceRoot":""}